# CSP

约束满足问题

可以将问题表达为：一组变量，一组约束

## 回溯法

在所有的取值中暴力枚举

如果这些变量不符合条件，就回退1步，修改变量的值

如果这些变量符合条件，就增加变量，继续判断

继续判断解空间是否为空，如果为空，就

一直递归，直到有解

### 约束传播

使用约束去降低一个变量的合法取值范围，从而引起另外一个变量的取值范围变小

### 操作

在所有未赋值的变量挑一个变量出来

在所有的解空间中挑一个变量出来

### 问题

在剩下的没赋值的变量中，挑啥

在所有的解空间中挑啥

### 方法

优先找受到约束最多的变量（就是解空间最小的）

选定变量后，优先选择和别的变量约束少的

- 这样很可能找不到通往结点的路

推论函数

- 在选定下一层的值时，先排除不可能的值

## 冲突

为变量产生一个完全赋值（通过回溯法定义的目标函数进行）

如果这个变量有冲突，找到形成冲突的两个变量

随机地变化其中一个变量，查看是否冲突

如果冲突，在选取其中一个变量，变化，直到没有冲突发生
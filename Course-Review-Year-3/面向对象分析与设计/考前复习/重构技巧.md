# 重构技巧

### 重复代码

将冗余的代码抽象成方法

将冗余的代码抽象成类

- 使用成员变量的方式抽象成类

stragy pattern

使用继承

- 将具体的放在子类中
- 抽象的放在父类中

### 样子难以理解

加注释

改方法，变量的名字

删除dead code

### 长方法

将代码抽象成方法

### 长的类

抽象成方法

抽象成子方法

Observer

### 长的参数列表

引入参数对象

- 创建一个类，使用这个类的实例进行传参

将修改参数的代码抽象成方法

保留整个对象

- 就是输入一个对象，而不是对象中的多个参数

### Divergent Change

就是经常变化一个类的实现

抽象成一个具体类

### Shotgun Surgery

一个变化会影响很多的类，但是每一个类只是进行了很小的变化

去掉方法

去掉成员变量/方法

内联类

### Feature Envy

一个类中的方法更适合放在其他的类中

提取方法

移动方法

移动成员变量/方法

### Data Clumps

大量的数据都放在外面，而不是放在类中

提取类

保留整个对象

使用参数对象

### Primitive Obsession

原始类型不够于当前的扩展

将数据替代成对象

将数据变成类

将代码变成strategy

- 搞一个接口，对于不同的方法，实现接口中的函数即可
- 原本的类存储接口中的变量，进行调用即可

### Switch Statements

太多的switch

提取方法

移动方法

使用子类

使用strategy

使用多态




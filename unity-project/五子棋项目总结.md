# 五子棋项目总结

## 思路

1. Player类

   - 这两个棋手的行为一致，所以将这两个棋手的行为放到一个脚本中，使用```public ChessType```来区分棋手的不同类型
   - 下棋是棋手的行为，所以在棋手类中添加update方法

2. 棋盘类

   - 棋盘只可能有一个，所以为单例模式，方便加载资源。

   - 考虑到给对手给予思考时间，要求必须要一方下完棋过一段时间后，另外一方才能继续下棋
   - 考虑到以后的扩展，使用三种角色，黑方，白方，旁观者

## 相关操作

声明二维数组

- ```int arr[,] = new int[15,15];```

根据鼠标位置获取坐标

- ```Vector2 pos = Camera.main.ScreenToWorldPoint(Input.mousePosition);```
- 系统先获取鼠标在屏幕中的像素位置
- 如果鼠标在canvas的viewport里面，则通过换算获取到鼠标在真实世界中的位置，所以需要调用API来完成这步操作，而不是简单的使用```Input.mousePosition```

创建单例（假设单例的类名字是Chessboard）

1. Chessboard内部添加```static Chessboard _instance;```
2. 添加对外接口

​	`public static Chessboard Instance`

​	`{`
​        `get { return _instance; }`	

​	`}`

3. Chessboard类的Awake方法中插入代码

`if(Instance == null){_instance = this;}`   

4. 其他类中即可使用```Chessboard.Instance```调用该引用

## API

`Mathf.clamp`

- `Mathf.Clamp(value : float, min :float, max : float)`
- 限制value的值在min和max之间， 如果value小于min，返回min。 如果value大于max，返回max，否则返回value 



## 启发

- 使用public关键字声明的变量来控制不同人物的行为，如果他们的行为高度一致，且只是在细节上有差别
- 尽量使用单例模式

